"use strict";
(function (obj) {
    obj.footer = $($('#main-page')[0].content).children('footer')[0];
    obj.homePage = document.createElement('body');
    obj.homePage.innerHTML = $('#main-page').html();
    document.body = obj.homePage;
    obj.showingCmdPage.showing = false;
    obj.showingCmdPage.showingPage = 'home-page';
    history.replaceState(null, '', location.pathname + location.search);
})(mccg);
if (location.hash === '') {
    $('#theme-check').children(`[value=${mccg.theme.value}]`)[0].selected = true;
    mccg.theme.value = $('#theme-check').val();
}
$('.left-menu li').on('click', (e) => {
    let dataset = e.target.dataset;
    if (!dataset.selected) {
        dataset.selected = '';
        dataset.leftMenuSelectedTemp = 'true';
        $('.left-menu li').each((_i, ele) => {
            if (ele.dataset.leftMenuSelectedTemp !== 'true' && ele.dataset.selected === '')
                delete ele.dataset.selected;
        });
        delete dataset.leftMenuSelectedTemp;
    }
});
$('#theme-check').on('change', () => mccg.theme.value = $('#theme-check').val());
window.addEventListener('hashchange', (e) => {
    new URL(e.newURL).hash !== '' && (mccg.showingCmdPage.showing = true);
    mccg.commandPage.call(mccg);
});
window.addEventListener('beforeunload', () => localStorage['theme'] = mccg.theme.value);
